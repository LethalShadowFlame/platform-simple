<!DOCTYPE html>
<html>
  <head>
    <title>Test - Game</title>
  </head>
  <body>
    <canvas id="Game" style="position: absolute;top: 0;left: 0;"></canvas>
    <script>//Coding here because I'm too lazy to exit out and create a new javascript file
      const GameCanvas = document.getElementById("Game");
      const ctx = GameCanvas.getContext("2d");
      GameCanvas.width = window.innerWidth;
      GameCanvas.height = window.innerHeight;
      var Player = {
        x: 0,
        y: 0,
        w: 50,
        h: 50,
        speed: 4,
        yvel: 0,
        render: function() {
          ctx.fillStyle = "blue";
          ctx.fillRect(this.x - Camera.x, this.y - Camera.y, this.w,this.h);
          this.x += (BoolToNumber.Or(Keys["d"], Keys["ArrowRight"]))* this.speed - BoolToNumber.Or(Keys["a"], Keys["ArrowLeft"]) * this.speed;
          if (GameState.jump) {
            this.y += this.yvel
            if (this.y > (GameCanvas.height - this.h)) {//Condition to be added - If touching any object
              this.yvel = 0;
              if (Keys["w"] || Keys["ArrowUp"]) {
                this.yvel -= 15;
              };
              this.y = (GameCanvas.height - this.h)
            } else {
              this.yvel += 1
            };
          } else {
            this.y += (BoolToNumber.Or(Keys["s"], Keys["ArrowDown"])* this.speed) - BoolToNumber.Or(Keys["w"], Keys["ArrowUp"]) * this.speed;
          };
          Camera.update();
        }
      }
      var Camera = {
        x: 0,
        y: 0,
        update: function() {
          // Follow the player
          //this.x = Player.x - (GameCanvas.width/2);
          //this.y = Player.y - (GameCanvas.height/2);
          //Restrict camera view here
        }
      };
      var BoolToNumber = {
        true: 1,
        false: 0,
        Or: function(condition1,condition2) {
          if (condition1 || condition2) {
            return 1;
          }
          return 0;
        }
      }
      var Keys = {
        a: 0,
        d: 0,
        w: 0,
        s: 0,
        ArrowLeft: 0,
        ArrowRight: 0,
        ArrowUp: 0,
        ArrowDown: 0
      };
      var GameState = {
        jump: true,
      }
      //Listeners
      document.addEventListener("keydown", (event) => {
        if (!(Keys[event.key] == undefined)) {
          Keys[event.key] = 1;
        };
      });
      document.addEventListener("keyup", (event) => {
        if (!(Keys[event.key] == undefined)) {
          Keys[event.key] = 0;
        };
      });
      document.addEventListener("resize", () => {
        GameCanvas.width = window.innerWidth;
        GameCanvas.height = window.innerHeight;
      });
      document.onclick = () => {
        //Find Distance to player and update keys properly
        //Plans for mobile
      };
      //Gameloop
      function Frame() {
        ctx.clearRect(0, 0, GameCanvas.width, GameCanvas.height);
        Player.render();
        requestAnimationFrame(Frame);
      };
      Frame()
    </script>
  </body>
</html>
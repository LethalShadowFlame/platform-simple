<!DOCTYPE html>
<html>
  <head>
    <title>Test - Game</title>
  </head>
  <body>
    <canvas id="Game" style="width:100%;height:100%;"></canvas>
    <script>
      //Coding here because I'm too lazy to exit out and create a new javascript file
      const GameCanvas = document.getElementById("Game");
      const ctx = GameCanvas.getContext("2d");
      var Player = {
        x: 0,
        y: 0,
        render: function() {
          ctx.fillStyle = "blue";
          ctx.fillRect(this.x - Camera.x, this.y - Camera.y, 50,50);
          this.x += (Keys["d"] - Keys["a"]);
          this.y += (Keys["s"] - Keys["w"]);
          Camera.update();
        }
      }
      var Camera = {
        x: 0,
        y: 0,
        update: function() {
          // Follow the player
          // this.x = Player.x;
          // this.y = Player.y;
          //For testing restrict to 0,0 so don't update :)
          //Restrict camera view here
        }
      };
      var Keys = {
        a: 0,
        d: 0,
        w: 0,
        s: 0
      };
      //Listeners
      document.addEventListener("keydown", (event) => {
        if (!(Keys[event.key] == undefined)) {
          Keys[event.key] = 1;
        };
      });
      document.addEventListener("keyup", (event) => {
        if (!(Keys[event.key] == undefined)) {
          Keys[event.key] = 0;
        };
      });
      //Gameloop
      function Frame() {
        ctx.clearRect(0, 0, GameCanvas.width, GameCanvas.height);
        Player.render();
        requestAnimationFrame(Frame);
      };
      Frame()
    </script>
  </body>
</html>
